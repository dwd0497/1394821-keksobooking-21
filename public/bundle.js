<<<<<<< HEAD
(()=>{"use strict";const e="GET",t="POST",o="https://21.javascript.pages.academy/keksobooking/data",r="https://21.javascript.pages.academy/keksobooking",n="Произошла ошибка соединения.",s="Запрос не успел выполниться за",c="мс",a={400:"Неверный запрос. Ошибка 400.",401:"Пользователь не авторизован. Ошибка 401.",404:"Информация не найдена. Ошибка 404.",500:"Ошибка сервера. Ошибка 500."},u=(t,o,r,u=e,l=null)=>{const i=new XMLHttpRequest;i.responseType="json",i.addEventListener("load",(()=>{200===i.status?o(i.response):r(a[i.status])})),i.addEventListener("error",(function(){r(n)})),i.addEventListener("timeout",(function(){r(`${s} ${i.timeout} ${c}`)})),i.timeout=1e4,i.open(u,t),i.send(l)},l=e=>{let t=null;return(...o)=>{t&&clearTimeout(t),t=setTimeout((()=>{e(...o)}),500)}};function i(e){return"Enter"===e.key}function d(e){return"Escape"===e.key}const p=(e,t,o,r=null)=>{const n=document.createDocumentFragment();let s=[];return r&&(e=e.slice(0,r)),e.forEach(((e,t)=>{const r=o(e,t);n.appendChild(r),s.push(r)})),t.appendChild(n),s},m=(e,t,o)=>{f(t),((e,t,o)=>{const r=document.createDocumentFragment();e.forEach(((e,t)=>{r.appendChild(o(e,t))})),t.appendChild(r)})(e,t,o)},f=e=>{for(;e.firstChild;)e.firstChild.remove()},y=(e,t)=>Array.prototype.forEach.call(e,t),h="100 комнат не для гостей",v="Не для гостей только 100 комнатные номера",g="Количество мест не может превышать количество комнат",_=["gif","jpg","jpeg","png"],S=e=>{"IMG"!==e.tagName?f(e):e.src="img/muffin-grey.svg"},q=(e,t,o)=>{e[o?"addEventListener":"removeEventListener"]("change",(()=>{const o=document.createDocumentFragment();let r=0;y(e.files,(n=>{const s=n.name.toLowerCase();if(_.some((e=>s.endsWith(e)))){const s=new FileReader;s.addEventListener("load",(()=>{if("IMG"!==t.tagName){const n=document.createElement("img");n.src=s.result,o.appendChild(n),r++,r===e.files.length&&t.appendChild(o)}else t.src=s.result})),s.readAsDataURL(n)}}))}))},L=document.querySelector("#error").content.querySelector(".error"),E=(e,t)=>{const o=L.cloneNode(!0),r=o.querySelector(".error__message"),n=o.querySelector(".error__button");r.textContent=e,t.appendChild(o),o.addEventListener("click",k(o)),n.addEventListener("click",C(o)),document.addEventListener("keydown",x(o))},k=e=>()=>{e.remove()},x=e=>t=>{d(t)&&(document.removeEventListener("keydown",x(e)),e.remove())},C=e=>()=>{e.remove()},w={bungalow:0,flat:1e3,house:5e3,palace:1e4},b=document.querySelector("main"),T=document.querySelector(".ad-form"),$=T.querySelector("#address"),D=T.querySelector("#capacity"),M=T.querySelector("#room_number"),V=T.querySelector("#type"),j=T.querySelector("#price"),N=T.querySelector("#timein"),F=T.querySelector("#timeout"),I=document.querySelector(".map__filters"),X=document.querySelector(".ad-form__reset"),G=document.querySelector("#success").content.querySelector(".success"),H=document.querySelector("#avatar"),R=document.querySelector(".ad-form-header__preview img"),W=document.querySelector("#images"),Y=document.querySelector(".ad-form__photo"),A=(e,t)=>{y(e,(function(e){e.disabled=t}))};A(T.children,!0),A(I.children,!0);const O=(e,t,o)=>{100===e&&0!==t?o.setCustomValidity(h):e<t&&0!==t?o.setCustomValidity(g):100!==e&&0===t?o.setCustomValidity(v):o.setCustomValidity(""),o.reportValidity()},B=()=>{const e=+D.value,t=+M.value;O(t,e,D)},P=()=>{const e=+D.value,t=+M.value;O(t,e,D)},U=()=>{z()},z=()=>{j.min=w[V.value],j.placeholder=w[V.value]},J=()=>{F.value=N.value},K=()=>{N.value=F.value},Q=e=>{e.preventDefault();const o=+D.value,n=+M.value;O(n,o,D),D.checkValidity()&&M.checkValidity()&&((e,o,n)=>{u(r,e,o,t,n)})(Z,ee,new FormData(T))},Z=()=>{(()=>{const e=G.cloneNode(!0);var t;T.appendChild(e),e.addEventListener("click",(t=e,()=>{t.remove()})),document.addEventListener("keydown",(e=>{const t=o=>{d(o)&&(document.removeEventListener("keydown",t),e.remove())};return t})(e))})(),Qe(),T.reset(),Ze(),z()},ee=e=>{E(e,b)},te=e=>{const t=e?"addEventListener":"removeEventListener";D[t]("change",B),M[t]("change",P),V[t]("change",U),N[t]("change",J),F[t]("change",K),T[t]("submit",Q)},oe=e=>{e.preventDefault(),T.reset(),Ze(),Qe()},re="570px",ne="375px",se=22,ce=document.querySelector(".map__pin--main"),ae=()=>ce.offsetHeight,ue=e=>{(function(e){return 0===e.button})(e)&&(et(),((e,t,o)=>{let r={x:e.clientX,y:e.clientY};const n=e=>{const n=r.x-e.clientX,s=r.y-e.clientY;r={x:e.clientX,y:e.clientY};const c=()=>t.offsetHeight+o,a=()=>130-c(),u=()=>630-c();t.offsetTop<a()?t.style.top=a()+"px":t.offsetTop>u()?t.style.top=u()+"px":t.style.top=t.offsetTop-s+"px";const l=()=>Math.ceil(t.offsetWidth/2),i=()=>1200-l();t.offsetLeft<0-l()?t.style.left=-l()+"px":t.offsetLeft>i()?t.style.left=i()+"px":t.style.left=t.offsetLeft-n+"px",Ze()},s=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)})(e,ce,se))},le=e=>{i(e)&&et()};(e=>{const t="addEventListener";ce[t]("mousedown",ue),ce[t]("keydown",le)})();const ie=document.querySelector(".map__filters-container"),de=document.querySelector("#card").content.querySelector(".map__card"),pe={flat:"Квартира",bungalow:"Бунгало",palace:"Дворец",house:"Дом"};let me=null;const fe=(e,t,o)=>e?o(t):t.remove(),ye=e=>{const t=document.createElement("li");return t.classList.add("popup__feature","popup__feature--"+e),t},he=e=>{const t=document.createElement("img");return t.classList.add("popup__photo"),t.style.width="45px",t.style.height="40px",t.src=""+e,t},ve=e=>{d(e)&&(Se(!1,me),_e())},ge=()=>{Se(!1,me),_e()},_e=()=>{me&&me.remove()},Se=(e,t)=>{const o=e?"addEventListener":"removeEventListener",r=t.querySelector(".popup__close");r&&(r[o]("click",ge),document[o]("keydown",ve))},qe=e=>{_e(),me=(e=>{const t=(e=>{const t=de.cloneNode(!0);return fe(e.offer.title,t.querySelector(".popup__title"),(t=>{t.textContent=e.offer.title})),fe(e.offer.address,t.querySelector(".popup__text--address"),(t=>{t.textContent=e.offer.address})),fe(e.offer.price,t.querySelector(".popup__text--price"),(t=>{t.textContent=e.offer.price+"₽/ночь"})),fe(e.offer.type,t.querySelector(".popup__type"),(t=>{t.textContent=pe[e.offer.type]})),fe(e.offer.rooms&&e.offer.guests,t.querySelector(".popup__text--capacity"),(t=>{t.textContent=`${e.offer.rooms} комнаты для ${e.offer.guests} гостей`})),fe(e.offer.checkin&&e.offer.checkout,t.querySelector(".popup__text--time"),(t=>{t.textContent=`Заезд после ${e.offer.checkin}, выезд до ${e.offer.checkout}`})),fe(e.offer.description,t.querySelector(".popup__description"),(t=>{t.textContent=e.offer.description})),fe(e.author.avatar,t.querySelector(".popup__avatar"),(t=>{t.src=e.author.avatar})),m(e.offer.photos,t.querySelector(".popup__photos"),he),m(e.offer.features,t.querySelector(".popup__features"),ye),t})(e);return rt(t,ie),Se(!0,t),t})(e)},Le=50,Ee=70,ke="map__pin--secondary",xe="map__pin--active",Ce=5,we=document.querySelector(".map__pins"),be=document.querySelector("#pin").content.querySelector(".map__pin");let Te=null,$e=null,De=null,Me=null;const Ve=(e,t)=>{const o=be.cloneNode(!0);o.classList.add(ke),((e,t)=>{e.style.top=t.y-Ee+"px",e.style.left=t.x-Le/2+"px"})(o,e.location);const r=o.querySelector("img");return r.src=""+e.author.avatar,r.alt=""+e.offer.title,o.value=t,o.addEventListener("click",Ne),o.addEventListener("keydown",Fe),o},je=()=>{null!==Te&&Te!==[]&&Te.forEach((e=>e.remove()))},Ne=e=>{Me&&Me.classList.remove(xe);const t=e.currentTarget;Me=t,t.classList.add(xe),qe(De?De[t.value]:$e[t.value])},Fe=e=>{i(e)&&Ne(e)},Ie=e=>{je(),_e(),De=e($e,Ce),Te=p(De,we,Ve)},Xe=document.querySelector(".map__filters"),Ge=Xe.querySelector("#housing-type"),He=Xe.querySelector("#housing-price"),Re=Xe.querySelector("#housing-rooms"),We=Xe.querySelector("#housing-guests"),Ye=Xe.querySelector("#housing-features"),Ae=new Set,Oe={"housing-type":"any","housing-price":"any","housing-rooms":"any","housing-guests":"any"},Be=function(e){return"any"===e},Pe=(e,t)=>((e,t,o)=>{const r=[];for(let n=0;n<e.length&&r.length!==o;n++){const o=e[n];t(o)&&r.push(o)}return r})(e,(e=>{return e.offer&&(o=e.offer.type,r=Oe["housing-type"],Be(r)||o===r)&&((e,t)=>Be(t)||"low"===t&&e<1e4||"middle"===t&&e>=1e4&&e<=5e4||"high"===t&&e>5e4)(e.offer.price,Oe["housing-price"])&&((e,t)=>Be(t)||e===+t)(e.offer.rooms,Oe["housing-rooms"])&&((e,t)=>Be(t)||e===+t)(e.offer.guests,Oe["housing-guests"])&&(t=e.offer.features,[...Ae].every((e=>t.includes(e.value))));var t,o,r}),t),Ue=l((e=>{Oe[e.target.name]=e.target.value,Ie(Pe)})),ze=l((e=>{Ae.has(e.target)?Ae.delete(e.target):Ae.add(e.target),Ie(Pe)})),Je=e=>{const t=e?"addEventListener":"removeEventListener";Ge[t]("change",Ue),He[t]("change",Ue),Re[t]("change",Ue),We[t]("change",Ue),Ye[t]("change",ze)},Ke=document.querySelector(".map"),Qe=()=>{Ke.classList.add("map--faded"),je(),_e(),T.classList.add("ad-form--disabled"),A(T.children,!0),A(I.children,!0),te(!1),X.removeEventListener("click",oe),q(H,R,!1),q(W,Y,!1),S(R),S(Y),Je(!1),Object.assign(Oe,{"housing-type":"any","housing-price":"any","housing-rooms":"any","housing-guests":"any"}),Ae.clear(),Xe.reset(),ce.style.top=ne,ce.style.left=re},Ze=()=>{return e=Math.round(parseInt(ce.style.left,10)+ce.offsetWidth/2),t=Ke.classList.contains("map--faded")?Math.round(parseInt(ce.style.top,10)+ae()/2):Math.round(parseInt(ce.style.top,10)+ae()+se),void($.value=`${e}, ${t}`);var e,t},et=()=>{Ke.classList.contains("map--faded")&&(((e,t)=>{u(o,e,t)})(tt,ot),Ze())},tt=e=>{(e=>{Ke.classList.remove("map--faded"),$e=e,je(),Te=p($e,we,Ve,Ce),T.classList.remove("ad-form--disabled"),A(T.children,!1),A(I.children,!1),te(!0),X.addEventListener("click",oe),q(H,R,!0),q(W,Y,!0),Je(!0)})(e)},ot=e=>{E(e,Ke)};Ze();const rt=(e,t)=>{Ke.insertBefore(e,t)}})();
=======
(()=>{"use strict";const e="100 комнат не для гостей",t="Не для гостей только 100 комнатные номера",o="Количество мест не может превышать количество комнат",r="Произошла ошибка соединения.",n="Запрос не успел выполниться за",s="мс",c="GET",a="POST",u="https://21.javascript.pages.academy/keksobooking/data",l="https://21.javascript.pages.academy/keksobooking",i={400:"Неверный запрос. Ошибка 400.",401:"Пользователь не авторизован. Ошибка 401.",404:"Информация не найдена. Ошибка 404.",500:"Ошибка сервера. Ошибка 500."},d=(e,t,o,a=c,u=null)=>{const l=new XMLHttpRequest;l.responseType="json",l.addEventListener("load",(()=>{200===l.status?t(l.response):o(i[l.status])})),l.addEventListener("error",(function(){o(r)})),l.addEventListener("timeout",(function(){o(`${n} ${l.timeout} ${s}`)})),l.timeout=1e4,l.open(a,e),l.send(u)},p=e=>{let t=null;return(...o)=>{t&&clearTimeout(t),t=setTimeout((()=>{e(...o)}),500)}};function m(e){return"Enter"===e.key}function f(e){return"Escape"===e.key}const y=(e,t,o,r=null)=>{const n=document.createDocumentFragment();let s=[];return r&&(e=e.slice(0,r)),e.forEach(((e,t)=>{const r=o(e,t);n.appendChild(r),s.push(r)})),t.appendChild(n),s},h=(e,t,o)=>{v(t),((e,t,o)=>{const r=document.createDocumentFragment();e.forEach(((e,t)=>{r.appendChild(o(e,t))})),t.appendChild(r)})(e,t,o)},v=e=>{for(;e.firstChild;)e.firstChild.remove()},g=(e,t)=>Array.prototype.forEach.call(e,t),_=["gif","jpg","jpeg","png"],S=e=>{"IMG"!==e.tagName?v(e):e.src="img/muffin-grey.svg"},q=(e,t,o)=>{e[o?"addEventListener":"removeEventListener"]("change",(()=>{const o=document.createDocumentFragment();let r=0;g(e.files,(n=>{const s=n.name.toLowerCase();if(_.some((e=>s.endsWith(e)))){const s=new FileReader;s.addEventListener("load",(()=>{if("IMG"!==t.tagName){const n=document.createElement("img");n.src=s.result,o.appendChild(n),r++,r===e.files.length&&t.appendChild(o)}else t.src=s.result})),s.readAsDataURL(n)}}))}))},L={bungalow:0,flat:1e3,house:5e3,palace:1e4},E=document.querySelector("main"),k=document.querySelector(".ad-form"),x=k.querySelector("#address"),C=k.querySelector("#capacity"),w=k.querySelector("#room_number"),b=k.querySelector("#type"),T=k.querySelector("#price"),$=k.querySelector("#timein"),D=k.querySelector("#timeout"),M=document.querySelector(".map__filters"),V=document.querySelector(".ad-form__reset"),j=document.querySelector("#success").content.querySelector(".success"),N=document.querySelector("#error").content.querySelector(".error"),F=document.querySelector("#avatar"),I=document.querySelector(".ad-form-header__preview img"),X=document.querySelector("#images"),G=document.querySelector(".ad-form__photo"),H=(e,t)=>{g(e,(function(e){e.disabled=t}))};H(k.children,!0),H(M.children,!0);const R=(r,n,s)=>{100===r&&0!==n?s.setCustomValidity(e):r<n&&0!==n?s.setCustomValidity(o):100!==r&&0===n?s.setCustomValidity(t):s.setCustomValidity(""),s.reportValidity()},W=()=>{const e=+C.value,t=+w.value;R(t,e,C)},Y=()=>{const e=+C.value,t=+w.value;R(t,e,C)},A=()=>{T.min=L[b.value],T.placeholder=L[b.value]},O=()=>{D.value=$.value},B=()=>{$.value=D.value},P=e=>{e.preventDefault();const t=+C.value,o=+w.value;R(o,t,C),C.checkValidity()&&w.checkValidity()&&((e,t,o)=>{d(l,e,t,a,o)})(J,K,new FormData(k))},U=e=>()=>{e.remove()},z=e=>t=>{f(t)&&(document.removeEventListener("keydown",z(e)),e.remove())},J=()=>{(()=>{const e=j.cloneNode(!0);k.appendChild(e),e.addEventListener("click",U(e)),document.addEventListener("keydown",z(e))})(),Be(),k.reset(),Pe()},K=e=>{(e=>{const t=N.cloneNode(!0),o=t.querySelector(".error__message"),r=t.querySelector(".error__button");o.textContent=e,E.appendChild(t),t.addEventListener("click",U(t)),r.addEventListener("click",(e=>()=>{e.remove()})(t)),document.addEventListener("keydown",z(t))})(e)},Q=e=>{const t=e?"addEventListener":"removeEventListener";C[t]("change",W),w[t]("change",Y),b[t]("change",A),$[t]("change",O),D[t]("change",B),k[t]("submit",P)},Z=e=>{e.preventDefault(),k.reset(),Pe()},ee=document.querySelector(".map__pin--main"),te=()=>ee.offsetHeight,oe=e=>{(function(e){return 0===e.button})(e)&&(Ue(),((e,t,o)=>{let r={x:e.clientX,y:e.clientY};const n=e=>{const o=r.x-e.clientX,n=r.y-e.clientY;r={x:e.clientX,y:e.clientY};const s=()=>t.offsetHeight+22,c=()=>130-s(),a=()=>630-s();t.offsetTop<c()?t.style.top=c()+"px":t.offsetTop>a()?t.style.top=a()+"px":t.style.top=t.offsetTop-n+"px";const u=()=>Math.ceil(t.offsetWidth/2),l=()=>1200-u();t.offsetLeft<0-u()?t.style.left=-u()+"px":t.offsetLeft>l()?t.style.left=l()+"px":t.style.left=t.offsetLeft-o+"px",Pe()},s=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",n),document.addEventListener("mouseup",s)})(e,ee))},re=e=>{m(e)&&Ue()};(e=>{const t="addEventListener";ee[t]("mousedown",oe),ee[t]("keydown",re)})();const ne=document.querySelector(".map__filters-container"),se=document.querySelector("#card").content.querySelector(".map__card"),ce={flat:"Квартира",bungalow:"Бунгало",palace:"Дворец",house:"Дом"};let ae=null;const ue=(e,t,o)=>e?o(t):t.remove(),le=e=>{const t=document.createElement("li");return t.classList.add("popup__feature","popup__feature--"+e),t},ie=e=>{const t=document.createElement("img");return t.classList.add("popup__photo"),t.style.width="45px",t.style.height="40px",t.src=""+e,t},de=e=>{f(e)&&(fe(!1,ae),me())},pe=()=>{fe(!1,ae),me()},me=()=>{ae&&ae.remove()},fe=(e,t)=>{const o=e?"addEventListener":"removeEventListener",r=t.querySelector(".popup__close");r&&(r[o]("click",pe),document[o]("keydown",de))},ye=e=>{me(),ae=(e=>{const t=(e=>{const t=se.cloneNode(!0);return ue(e.offer.title,t.querySelector(".popup__title"),(t=>{t.textContent=e.offer.title})),ue(e.offer.address,t.querySelector(".popup__text--address"),(t=>{t.textContent=e.offer.address})),ue(e.offer.price,t.querySelector(".popup__text--price"),(t=>{t.textContent=e.offer.price+"₽/ночь"})),ue(e.offer.type,t.querySelector(".popup__type"),(t=>{t.textContent=ce[e.offer.type]})),ue(e.offer.rooms&&e.offer.guests,t.querySelector(".popup__text--capacity"),(t=>{t.textContent=`${e.offer.rooms} комнаты для ${e.offer.guests} гостей`})),ue(e.offer.checkin&&e.offer.checkout,t.querySelector(".popup__text--time"),(t=>{t.textContent=`Заезд после ${e.offer.checkin}, выезд до ${e.offer.checkout}`})),ue(e.offer.description,t.querySelector(".popup__description"),(t=>{t.textContent=e.offer.description})),ue(e.author.avatar,t.querySelector(".popup__avatar"),(t=>{t.src=e.author.avatar})),h(e.offer.photos,t.querySelector(".popup__photos"),ie),h(e.offer.features,t.querySelector(".popup__features"),le),t})(e);return Ke(t,ne),fe(!0,t),t})(e)},he=50,ve=70,ge="map__pin--secondary",_e="map__pin--active",Se=5,qe=document.querySelector(".map__pins"),Le=document.querySelector("#pin").content.querySelector(".map__pin");let Ee=null,ke=null,xe=null,Ce=null;const we=(e,t)=>{const o=Le.cloneNode(!0);o.classList.add(ge),((e,t)=>{e.style.top=t.y-ve+"px",e.style.left=t.x-he/2+"px"})(o,e.location);const r=o.querySelector("img");return r.src=""+e.author.avatar,r.alt=""+e.offer.title,o.value=t,o.addEventListener("click",Te),o.addEventListener("keydown",$e),o},be=()=>{null!==Ee&&Ee!==[]&&Ee.forEach((e=>e.remove()))},Te=e=>{Ce&&Ce.classList.remove(_e);const t=e.currentTarget;Ce=t,t.classList.add(_e),ye(xe?xe[t.value]:ke[t.value])},$e=e=>{m(e)&&Te(e)},De=e=>{be(),me(),xe=e(ke,Se),Ee=y(xe,qe,we)},Me=document.querySelector(".map__filters"),Ve=Me.querySelector("#housing-type"),je=Me.querySelector("#housing-price"),Ne=Me.querySelector("#housing-rooms"),Fe=Me.querySelector("#housing-guests"),Ie=Me.querySelector("#housing-features"),Xe=new Set,Ge={"housing-type":"any","housing-price":"any","housing-rooms":"any","housing-guests":"any"},He=function(e){return"any"===e},Re=(e,t)=>((e,t,o)=>{const r=[];for(let n=0;n<e.length&&r.length!==o;n++){const o=e[n];t(o)&&r.push(o)}return r})(e,(e=>{return o=e.offer.type,r=Ge["housing-type"],(He(r)||o===r)&&((e,t)=>He(t)||"low"===t&&e<1e4||"middle"===t&&e>=1e4&&e<=5e4||"high"===t&&e>5e4)(e.offer.price,Ge["housing-price"])&&((e,t)=>He(t)||e===+t)(e.offer.rooms,Ge["housing-rooms"])&&((e,t)=>He(t)||e===+t)(e.offer.guests,Ge["housing-guests"])&&(t=e.offer.features,[...Xe].every((e=>t.includes(e.value))));var t,o,r}),t),We=p((e=>{Ge[e.target.name]=e.target.value,De(Re)})),Ye=p((e=>{Xe.has(e.target)?Xe.delete(e.target):Xe.add(e.target),De(Re)})),Ae=e=>{const t=e?"addEventListener":"removeEventListener";Ve[t]("change",We),je[t]("change",We),Ne[t]("change",We),Fe[t]("change",We),Ie[t]("change",Ye)},Oe=document.querySelector(".map"),Be=()=>{Oe.classList.add("map--faded"),be(),me(),k.classList.add("ad-form--disabled"),H(k.children,!0),H(M.children,!0),Q(!1),V.removeEventListener("click",Z),q(F,I,!1),q(X,G,!1),S(I),S(G),Ae(!1),Object.assign(Ge,{"housing-type":"any","housing-price":"any","housing-rooms":"any","housing-guests":"any"}),Xe.clear(),Me.reset()},Pe=()=>{return e=Math.round(parseInt(ee.style.left,10)+ee.offsetWidth/2),t=Oe.classList.contains("map--faded")?Math.round(parseInt(ee.style.top,10)+te()/2):Math.round(parseInt(ee.style.top,10)+te()+22),void(x.value=`${e}, ${t}`);var e,t},Ue=()=>{Oe.classList.contains("map--faded")&&(((e,t)=>{d(u,e,t)})(ze,Je),Pe())},ze=e=>{(e=>{Oe.classList.remove("map--faded"),ke=e,be(),Ee=y(ke,qe,we,Se),k.classList.remove("ad-form--disabled"),H(k.children,!1),H(M.children,!1),Q(!0),V.addEventListener("click",Z),q(F,I,!0),q(X,G,!0),Ae(!0)})(e)},Je=e=>{const t=document.createElement("div");t.classList.add("error_popup"),t.textContent=e;const o=e=>{f(e)&&(t.remove(),document.removeEventListener("keydown",o))};document.addEventListener("keydown",o),document.body.appendChild(t)};Pe();const Ke=(e,t)=>{Oe.insertBefore(e,t)}})();
>>>>>>> cde0e0a04c6ab95e024cb04753cce835cfc7eaf7
